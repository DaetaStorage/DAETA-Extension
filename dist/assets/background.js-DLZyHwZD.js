chrome.runtime.onInstalled.addListener(async()=>{chrome.tabs.create({url:"https://chatgpt.com"})});function u(){console.log("ChatGpt is loaded")}chrome.action.onClicked.addListener(r=>{console.log("Extension icon clicked!"),r.url.includes("chrome://")||chrome.tabs.create({url:"https://chatgpt.com"},function(e){console.log("New tab created: ",e),chrome.tabs.onUpdated.addListener(function c(t,o){console.log("Tab updated: ",t,o),t===e.id&&o.status==="complete"&&(chrome.scripting.executeScript({target:{tabId:e.id},function:u}),console.log("Script injected into tab: ",t),chrome.tabs.onUpdated.removeListener(c))})})});chrome.runtime.onMessageExternal.addListener((r,e,c)=>{if(r.type==="GET_USER_INFO")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="VERIFY_REFERRAL_CODE")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="VERIFY_OTP_CODE")fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()}));else{if(r.type==="CLAIM_REWARDS")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="CLAIM_POINTS")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="CLAIMED_POINTS")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0;if(r.type==="GET_SIGNATURE")return fetch(r.url,r.options).then(t=>t.json()).then(t=>c({success:!0,data:t})).catch(t=>c({success:!1,error:t.toString()})),!0}});
